{"version":3,"file":"login.js","sourceRoot":"","sources":["../../src/models/login.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,yCAAoE;AACpE,qCAAkC;AAElC;;;EAGE;AACF,MAAa,KAAM,SAAQ,qBAAS;IAahC,YAAY,QAAiB,EAAE,QAAiB,EAAE,MAAiB;QAC/D,KAAK,EAAE,CAAA;QACP,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACzB,CAAC;IAED;;;;MAIE;IAEF,MAAM,CAAO,mBAAmB,CAAyB,QAAgB;;YACrE,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,EAAC,QAAQ,EAAE,QAAQ,EAAC,CAAC,CAAA;QAChD,CAAC;KAAA;IAED;;;;;;OAMG;IAEH,MAAM,CAAO,WAAW,CAAyB,QAAgB,EAAE,iBAAyB,EAAE,MAAgB;;YAC1G,OAAO,MAAM,IAAI,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,QAAQ,EAAE,iBAAiB,EAAE,MAAM,CAAC,CAAC,CAAC;QACjF,CAAC;KAAA;CAEJ;AAxCG;IADC,gBAAI,EAAE;;uCACU;AAGjB;IADC,gBAAI,EAAE;;uCACU;AAGjB;IADC,gBAAI,EAAE;;2CACc;AAGrB;IADC,gBAAI,EAAE;8BACE,kBAAQ;qCAAA;AAejB;IADC,wBAAY;;;;sCAGZ;AAUD;IADC,wBAAY;;qDACyF,kBAAQ;;8BAE7G;AAxCL,sBA0CC;AAEU,QAAA,UAAU,GAAG,IAAI,KAAK,EAAE,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAA","sourcesContent":["import { Typegoose, prop, ModelType, staticMethod } from 'typegoose'\nimport { ObjectId } from 'mongodb'\n\n/**\n* Model class for Login\n* @extends Typegoose\n*/\nexport class Login extends Typegoose {\n    @prop()\n    username?: string\n\n    @prop()\n    password?: string\n\n    @prop()\n    failedLogins?: number\n\n    @prop()\n    userId?: ObjectId\n\n    constructor(username?: string, password?: string, userId?: ObjectId) {\n        super()\n        this.username = username;\n        this.password = password;\n        this.userId = userId;\n    }\n\n    /**\n    * Find login by username\n    * @param this - context\n    * @param username - username for the person\n    */\n    @staticMethod\n    static async findLoginByUsername(this: ModelType<Login>, username: string) {\n        return await this.find({username: username})\n    }\n\n    /**\n     * Adding new login details\n     * @param this - context\n     * @param username - username\n     * @param encryptedPassword - password which is encrypted by hash\n     * @param userId - userId to correlate user with login details\n     */\n    @staticMethod\n    static async addNewLogin(this: ModelType<Login>, username: string, encryptedPassword: string, userId: ObjectId) {\n        return await this.insertMany(new Login(username, encryptedPassword, userId));\n    }\n\n}\n\nexport let LoginModel = new Login().getModelForClass(Login)"]}