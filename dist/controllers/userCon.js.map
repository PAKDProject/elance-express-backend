{"version":3,"file":"userCon.js","sourceRoot":"","sources":["../../src/controllers/userCon.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qCAAiE;AAEjE,yCAAgD;AAChD,2DAAuD;AAEvD;;EAEE;AACF,MAAa,cAAc;IAMvB;;MAEE;IACF;QARA;;UAEE;QACF,aAAQ,GAAW,OAAO,CAAA;IAO1B,CAAC;IAED;;;MAGE;IACF,YAAY;QACR,OAAO,gBAAM,EAAE;aACV,GAAG,CAAC,GAAG,EAAE,yBAAW,CAAC,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;YAC5E,IAAI,KAAK,GAAG,MAAM,gBAAS,CAAC,YAAY,EAAE,CAAA;YAC1C,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC;gBAAE,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAA;;gBAC1D,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,cAAc,EAAE,KAAK,EAAC,CAAC,CAAA;QAC3D,CAAC,CAAA,CAAC,CAAC;aACF,GAAG,CAAC,MAAM,EAAE,yBAAW,CAAC,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;YAC/E,IAAI,IAAI,GAAG,MAAM,gBAAS,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;YACtD,IAAI,CAAC,IAAI;gBAAE,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAA;;gBAC7C,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,aAAa,EAAE,IAAI,EAAC,CAAC,CAAA;QACzD,CAAC,CAAA,CAAC,CAAC;aACF,IAAI,CAAC,GAAG,EAAE,yBAAW,CAAC,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;YAC7E,IAAI,OAAO,GAAG,IAAI,gBAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA;YACrC,MAAM,OAAO,CAAC,IAAI,EAAE,CAAA;YACpB,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,eAAe,EAAE,OAAO,EAAC,CAAC,CAAA;QACzD,CAAC,CAAA,CAAC,CAAC;aACF,GAAG,CAAC,MAAM,EAAE,yBAAW,CAAC,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;YAC/E,IAAI,IAAI,GAAG,MAAM,gBAAS,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;YACtD,IAAI,CAAC,IAAI;gBAAE,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAA;;gBAC7C,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,eAAe,EAAE,IAAI,EAAC,CAAC,CAAC,CAAA;QAC/F,CAAC,CAAA,CAAC,CAAC;aACF,MAAM,CAAC,MAAM,EAAE,yBAAW,CAAC,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;YAClF,IAAI,IAAI,GAAG,MAAM,gBAAS,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;YACtD,IAAI,CAAC,IAAI;gBAAE,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAA;iBAC7C;gBACD,gBAAS,CAAC,cAAc,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;gBACvC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,eAAe,EAAE,IAAI,EAAC,CAAC,CAAA;aACrD;QACL,CAAC,CAAA,CAAC,CAAC;aACF,MAAM,CAAC,GAAG,EAAE,yBAAW,CAAC,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;YAC/E,IAAI,KAAK,GAAG,MAAM,gBAAS,CAAC,YAAY,EAAE,CAAA;YAC1C,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC;gBAAE,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAA;iBAC1D;gBACD,gBAAS,CAAC,cAAc,EAAE,CAAA;gBAC1B,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,oBAAoB,EAAE,KAAK,EAAC,CAAC,CAAA;aAC3D;QACL,CAAC,CAAA,CAAC,CAAC,CAAA;IACX,CAAC;CACJ;AAxDD,wCAwDC","sourcesContent":["import { Router, Response, Request, NextFunction } from 'express'\nimport { BaseRouter } from '../interfaces/baseRouter'\nimport { UserModel, User } from '../models/user'\nimport { asyncRoutes } from '../middleware/asyncRoutes'\n\n/**\n* @class UserController used to control user route\n*/\nexport class UserController implements BaseRouter {\n    /**\n    * @property basePath used as a base for routing related to the index\n    */\n    basePath: string = '/user'\n\n    /**\n    * @constructor\n    */\n    constructor() {\n\n    }\n\n    /**\n    * Returns a configured router for the route\n    * @returns Router\n    */\n    returnRouter(): Router {\n        return Router()\n            .get('/', asyncRoutes(async (req: Request, res: Response, next: NextFunction) => {\n                let users = await UserModel.findAllUsers()\n                if (users.length === 0) res.status(404).send('No users found.')\n                else res.status(200).json({msg: \"Users found.\", users})\n            }))\n            .get('/:id', asyncRoutes(async (req: Request, res: Response, next: NextFunction) => {\n                let user = await UserModel.findUserById(req.params.id)\n                if (!user) res.status(404).send('User not found.')\n                else res.status(200).json({msg: \"User found.\", user})\n            }))\n            .post('/', asyncRoutes(async (req: Request, res: Response, next: NextFunction) => {\n                let newUser = new UserModel(req.body)\n                await newUser.save()\n                res.status(201).json({msg: 'User created.', newUser})\n            }))\n            .put('/:id', asyncRoutes(async (req: Request, res: Response, next: NextFunction) => {\n                let user = await UserModel.findUserById(req.params.id)\n                if (!user) res.status(404).send('User not found.')\n                else Object.assign(user, req.body).save(res.status(202).json({msg: 'User updated.', user}))\n            }))\n            .delete('/:id', asyncRoutes(async (req: Request, res: Response, next: NextFunction) => {\n                let user = await UserModel.findUserById(req.params.id)\n                if (!user) res.status(404).send('User not found.')\n                else {\n                    UserModel.deleteUserById(req.params.id)\n                    res.status(200).json({msg: 'User deleted.', user})\n                } \n            }))\n            .delete('/', asyncRoutes(async (req: Request, res: Response, next: NextFunction) => {\n                let users = await UserModel.findAllUsers()\n                if (users.length === 0) res.status(404).send('No users found.')\n                else {\n                    UserModel.deleteAllUsers()\n                    res.status(200).json({msg: \"All users deleted.\", users})\n                }\n            }))\n    }\n}"]}